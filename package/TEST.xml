<?xml version="1.0" encoding="UTF-8"?>
<package id="dzpi-testapp" type="gui">
  <metadata>
    <name>DZPI Test App</name>
    <developer>Dazdividez Team</developer>
    <license>MIT</license>
    <icon>https://dazdividez.ru/icons/testapp.png</icon>
    <screenshots>
      <screenshot>https://example.com/screen1.jpg</screenshot>
    </screenshots>
  </metadata>

  <versions>
    <!-- Стабильная версия -->
    <version num="1.2.0" status="stable" release-date="2024-07-15">
      <zip 
        url="https://dazdividez.ru/packages/testapp-1.2.0.zip"
        size="15MB"
        hash="sha256:a1b2c3d4e5f6...">
        <gpg key-id="D89F3F72" signature="BASE64_SIGN"/>
      </zip>
      
      <requires>
        <dep xml-file="packages/dzpi-corelib.xml" version=">=2.0"/>
        <syslib name="libgtk-3.so.0"/>
      </requires>

      <changelog lang="ru">
        <![CDATA[
        <ul>
          <li>Добавлена поддержка темной темы</li>
          <li>Исправлены утечки памяти</li>
        </ul>
        ]]>
      </changelog>
    </version>

    <!-- Бета-версия -->
    <version num="2.0.0-beta" status="beta">
      <zip url="https://.../testapp-2.0.0-beta.zip"/>
    </version>
  </versions>

  <!-- Интеграция с системой -->
  <integration>
    <desktop-entries>
      <entry name="DZPI Test" exec="/opt/dzpi/testapp/run" icon="testapp-icon"/>
    </desktop-entries>
    
    <systemd>
      <service name="testapp-daemon" exec="/opt/dzpi/testapp/daemon"/>
    </systemd>
  </integration>

  <!-- Разрешения -->
  <permissions>
    <network>yes</network>
    <filesystem>
      <read>/home</read>
      <write>/var/log/testapp</write>
    </filesystem>
  </permissions>
</package>
